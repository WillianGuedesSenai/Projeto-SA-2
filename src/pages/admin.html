<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo</title>
    <style>
        body { font-family: Arial; margin: 0; padding: 0; background: #f5f5f5; }
        header { background: #222; color: #fff; padding: 15px; font-size: 20px; }
        .tabs { display: flex; background: #333; }
        .tab { padding: 15px; cursor: pointer; color: #fff; }
        .tab:hover { background: #444; }
        .active { background: #555; }
        .content { padding: 20px; }
        table { width: 100%; border-collapse: collapse; background: #fff; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background: #eee; }
        .hidden { display: none; }
    </style>
</head>
<body>

<header>Painel Administrativo — {{ usuario_logado }}</header>

<div class="tabs">
    {% if cargo == 'gerente' %}
        <div class="tab" onclick="showTab('os')">Ordens de Serviço</div>
        <div class="tab" onclick="showTab('funcionarios')">Funcionários</div>
        <div class="tab" onclick="showTab('veiculos')">Veículos</div>
        <div class="tab" onclick="showTab('produtos')">Produtos</div>
    {% elif cargo == 'mecanico' %}
        <div class="tab" onclick="showTab('os')">Ordens de Serviço</div>
        <div class="tab" onclick="showTab('veiculos')">Veículos</div>
        <div class="tab" onclick="showTab('pecas')">Peças</div>
        <div class="tab" onclick="showTab('produtos')">Produtos</div>
    {% elif cargo == 'recepcionista' %}
        <div class="tab" onclick="showTab('os')">Ordens de Serviço</div>
        <div class="tab" onclick="showTab('clientes')">Clientes</div>
    {% endif %}
</div>

<div class="content">

    <div id="os" class="tabcontent hidden">
        <h2>Ordens de Serviço</h2>
        <table>
            <tr>
                <th>ID</th><th>Descrição</th><th>Status</th><th>ID Cliente</th><th>ID Veículo</th>
            </tr>
            {% for o in ordens %}
            <tr>
                <td>{{ o.id_ordem }}</td>
                <td>{{ o.descricao }}</td>
                <td>{{ o.status }}</td>
                <td>{{ o.id_cliente }}</td>
                <td>{{ o.id_veiculo }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div id="funcionarios" class="tabcontent hidden">
        <h2>Funcionários</h2>
        <table>
            <tr><th>ID</th><th>Nome</th><th>Cargo</th></tr>
            {% for f in funcionarios %}
            <tr>
                <td>{{ f.id_funcionario }}</td>
                <td>{{ f.nome_funcionario }}</td>
                <td>{{ f.nivel_de_acesso }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div id="veiculos" class="tabcontent hidden">
        <h2>Veículos</h2>
        <table>
            <tr><th>ID</th><th>Marca</th><th>Modelo</th><th>Ano</th><th>Cor</th><th>Placa</th></tr>
            {% for v in veiculos %}
            <tr>
                <td>{{ v.id_veiculo }}</td>
                <td>{{ v.marca }}</td>
                <td>{{ v.modelo }}</td>
                <td>{{ v.ano }}</td>
                <td>{{ v.cor }}</td>
                <td>{{ v.placa }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div id="produtos" class="tabcontent hidden">
        <h2>Produtos</h2>
        <table>
            <tr><th>ID</th><th>Nome</th><th>Preço</th><th>Stock</th></tr>
            {% for p in produtos %}
            <tr>
                <td>{{ p.id_produto }}</td>
                <td>{{ p.nome }}</td>
                <td>{{ p.preco }}</td>
                <td>{{ p.stock }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div id="pecas" class="tabcontent hidden">
        <h2>Peças</h2>
        <table>
            <tr><th>ID</th><th>Nome</th><th>Preço</th><th>Quantidade</th></tr>
            {% for p in pecas %}
            <tr>
                <td>{{ p.id_peca }}</td>
                <td>{{ p.nome }}</td>
                <td>{{ p.preco }}</td>
                <td>{{ p.qtd }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div id="clientes" class="tabcontent hidden">
        <h2>Clientes</h2>
        <table>
            <tr><th>ID</th><th>Nome</th><th>Email</th><th>CPF</th></tr>
            {% for c in clientes %}
            <tr>
                <td>{{ c.id_cliente }}</td>
                <td>{{ c.nome_cliente }}</td>
                <td>{{ c.email }}</td>
                <td>{{ c.CPF }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

</div>

<script>
function showTab(tabId) {
    document.querySelectorAll('.tabcontent').forEach(div => div.classList.add('hidden'));
    document.getElementById(tabId).classList.remove('hidden');
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
}
</script>

</body>
</html>
